// 전역 라이브러리 로드
@Library('tenbyten-library') _


// cron 테스트 사이트
// http://cron.schlitt.info/
// http://corntab.com/

////////////////////////////////////////////////////////////////////
// 매일 오후 7:54에 - 트리거된 후 1일 기간동안 00:01:00마다 반복합니다.
////////////////////////////////////////////////////////////////////
// H/1, H 모두 1분에 한번 실행되지 않음.
// * 을 써야 1분에 한번 실행됨.
// https://stackoverflow.com/questions/29975655/run-a-jenkins-job-every-one-minute-using-h-1
properties([pipelineTriggers([cron('* * * * *')])])

def trigger = new Trigger()
trigger.startTrigger(new Date(), "2019-11-27 19:54")


////////////////////////////////////////////////////////////////////
// 매일 오전 7:19에 - 트리거된 후 1일 기간동안 30분마다 반복합니다.
////////////////////////////////////////////////////////////////////
properties([pipelineTriggers([cron('H/30 * * * *')])])

def trigger = new Trigger()
trigger.startTrigger(new Date(), "2019-11-27 07:19")


////////////////////////////////////////////////////////////////////
// 매일 오전 9:40에 - 트리거된 후 12 시간 기간동안 02:00:00마다 반복합니다.
////////////////////////////////////////////////////////////////////
properties([pipelineTriggers([cron('40 9-21/2 * * *')])])


////////////////////////////////////////////////////////////////////
// 매일 오전 2:10에 - 트리거된 후 20:00:00 시간 기간동안 08:00:00마다 반복합니다.
// 2:10, 10:10, 18:10 실행됨
////////////////////////////////////////////////////////////////////
properties([pipelineTriggers([cron('10 2,10,18 * * *')])])

////////////////////////////////////////////////////////////////////
// 매일 오전 8:05에 - 트리거된 후 16:00:00 시간 기간동안 30분마다 반복합니다.
////////////////////////////////////////////////////////////////////
properties([pipelineTriggers([cron('5,35 0,8-23 * * *')])])


////////////////////////////////////////////////////////////////////
// 2018-06-01부터 매주 일, 화, 수, 목, 금, 토요일마다 오전 8:00에 
////////////////////////////////////////////////////////////////////
// weekday 0, 7 일요일 월-금(1-5), 6 토요일
// 일(0,7), 월(1), 화(2), 수(3), 목(4), 금(5), 토(6)

properties([pipelineTriggers([cron('0 8 * 0,2-5 ')])])
def trigger = new Trigger()
trigger.startTrigger(new Date(), "2018-06-01 00:00")

////////////////////////////////////////////////////////////////////
// 매일 오후 6:10에 - 트리거된 후 15분 기간동안 00:03:00분마다 반복합니다.
////////////////////////////////////////////////////////////////////
properties([pipelineTriggers([cron('10-25/3 18 * * *')])])

